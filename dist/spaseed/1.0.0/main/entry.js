define("spaseed/1.0.0/main/entry",["zepto/1.1.3/index"],function(){define(function(t,e){var n=t("spaseed/1.0.0/lib/zepto"),i=t("spaseed/1.0.0/lib/event"),r=(t("spaseed/1.0.0/lib/util"),t("spaseed/1.0.0/config/config")),o=t("spaseed/1.0.0/main/router"),a=t("spaseed/1.0.0/main/pagemanager"),s=function(){a.init(),o.init({html5Mode:!0,pageManager:a,routes:{"/":"loadRoot","/*controller(/*action)(/*p1)(/*p2)(/*p3)(/*p4)(/*p5)":"loadCommon"},extendRoutes:r.extendRoutes}),i.addCommonEvent("click",{router:function(){var t=this.getAttribute("data-href");a.redirect(t)},back:function(){a.back(this.getAttribute("data-href"))},reload:function(){a.reload()}});var t=window;n(t).on("load",function(){t.isOnload=!0}),window.addEventListener("touchmove",function(t){a.container[0].contains(t.target)||t.preventDefault()},!1),a.container.on("touchstart",function(t){startTopScroll=deltaY=void 0,t.touches[0].pageY;startTopScroll=this.scrollTop,0>=startTopScroll&&(this.scrollTop=1),startTopScroll+this.offsetHeight>=this.scrollHeight&&(this.scrollTop=this.scrollHeight-this.offsetHeight-1)})};e.init=s})}),define("spaseed/1.0.0/lib/zepto",[],function(t,e,n){define(function(){return function(t,e){var i=function(){function e(t){return null==t?String(t):X[B.call(t)]||"object"}function n(t){return"function"==e(t)}function i(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function o(t){return"object"==e(t)}function a(t){return o(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){return t instanceof Array}function c(t){return"number"==typeof t.length}function u(t){return A.call(t,function(t){return null!=t})}function l(t){return t.length>0?C.fn.concat.apply([],t):t}function f(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function h(t){return t in _?_[t]:_[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function p(t,e){return"number"!=typeof e||D[f(t)]?e:e+"px"}function d(t){var e,n;return k[t]||(e=N.createElement(t),N.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),k[t]=n),k[t]}function m(t){return"children"in t?R.call(t.children):C.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function g(t,e,n){for(j in e)n&&(a(e[j])||s(e[j]))?(a(e[j])&&!a(t[j])&&(t[j]={}),s(e[j])&&!s(t[j])&&(t[j]=[]),g(t[j],e[j],n)):e[j]!==T&&(t[j]=e[j])}function v(t,e){return null==e?C(t):C(t).filter(e)}function y(t,e,i,r){return n(e)?e.call(t,i,r):e}function b(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function x(t,e){var n=t.className,i=n&&n.baseVal!==T;return e===T?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function w(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?C.parseJSON(t):t:e):t}catch(n){return t}}function E(t,e){e(t);for(var n in t.childNodes)E(t.childNodes[n],e)}var T,j,C,S,O,M,P=[],R=P.slice,A=P.filter,N=t.document,k={},_={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},L=/^\s*<(\w+|!)[^>]*>/,z=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,$=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,H=/^(?:body|html)$/i,F=/([A-Z])/g,U=["val","css","html","text","data","width","height","offset"],I=["after","prepend","before","append"],q=N.createElement("table"),V=N.createElement("tr"),Z={tr:N.createElement("tbody"),tbody:q,thead:q,tfoot:q,td:V,th:V,"*":N.createElement("div")},W=/complete|loaded|interactive/,Y=/^[\w-]*$/,X={},B=X.toString,J={},G=N.createElement("div"),K={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"};return J.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=G).appendChild(t),i=~J.qsa(r,e).indexOf(t),o&&G.removeChild(t),i},O=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},M=function(t){return A.call(t,function(e,n){return t.indexOf(e)==n})},J.fragment=function(t,e,n){var i,r,o;return z.test(t)&&(i=C(N.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace($,"<$1></$2>")),e===T&&(e=L.test(t)&&RegExp.$1),e in Z||(e="*"),o=Z[e],o.innerHTML=""+t,i=C.each(R.call(o.childNodes),function(){o.removeChild(this)})),a(n)&&(r=C(i),C.each(n,function(t,e){U.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},J.Z=function(t,e){return t=t||[],t.__proto__=C.fn,t.selector=e||"",t},J.isZ=function(t){return t instanceof J.Z},J.init=function(t,e){var i;if(!t)return J.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&L.test(t))i=J.fragment(t,RegExp.$1,e),t=null;else{if(e!==T)return C(e).find(t);i=J.qsa(N,t)}else{if(n(t))return C(N).ready(t);if(J.isZ(t))return t;if(s(t))i=u(t);else if(o(t))i=[t],t=null;else if(L.test(t))i=J.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==T)return C(e).find(t);i=J.qsa(N,t)}}return J.Z(i,t)},C=function(t,e){return J.init(t,e)},C.extend=function(t){var e,n=R.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){g(t,n,e)}),t},J.qsa=function(t,e){var n,i="#"==e[0],o=!i&&"."==e[0],a=i||o?e.slice(1):e,s=Y.test(a);return r(t)&&s&&i?(n=t.getElementById(a))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:R.call(s&&!i?o?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},C.contains=function(t,e){return t!==e&&t.contains(e)},C.type=e,C.isFunction=n,C.isWindow=i,C.isArray=s,C.isPlainObject=a,C.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},C.inArray=function(t,e,n){return P.indexOf.call(e,t,n)},C.camelCase=O,C.trim=function(t){return null==t?"":String.prototype.trim.call(t)},C.uuid=0,C.support={},C.expr={},C.map=function(t,e){var n,i,r,o=[];if(c(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&o.push(n);else for(r in t)n=e(t[r],r),null!=n&&o.push(n);return l(o)},C.each=function(t,e){var n,i;if(c(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},C.grep=function(t,e){return A.call(t,e)},t.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()}),C.fn={forEach:P.forEach,reduce:P.reduce,push:P.push,sort:P.sort,indexOf:P.indexOf,concat:P.concat,map:function(t){return C(C.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return C(R.apply(this,arguments))},ready:function(t){return W.test(N.readyState)&&N.body?t(C):N.addEventListener("DOMContentLoaded",function(){t(C)},!1),this},get:function(t){return t===T?R.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return P.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return n(t)?this.not(this.not(t)):C(A.call(this,function(e){return J.matches(e,t)}))},add:function(t,e){return C(M(this.concat(C(t,e))))},is:function(t){return this.length>0&&J.matches(this[0],t)},not:function(t){var e=[];if(n(t)&&t.call!==T)this.each(function(n){t.call(this,n)||e.push(this)});else{var i="string"==typeof t?this.filter(t):c(t)&&n(t.item)?R.call(t):C(t);this.forEach(function(t){i.indexOf(t)<0&&e.push(t)})}return C(e)},has:function(t){return this.filter(function(){return o(t)?C.contains(this,t):C(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!o(t)?t:C(t)},last:function(){var t=this[this.length-1];return t&&!o(t)?t:C(t)},find:function(t){var e,n=this;return e="object"==typeof t?C(t).filter(function(){var t=this;return P.some.call(n,function(e){return C.contains(e,t)})}):1==this.length?C(J.qsa(this[0],t)):this.map(function(){return J.qsa(this,t)})},closest:function(t,e){var n=this[0],i=!1;for("object"==typeof t&&(i=C(t));n&&!(i?i.indexOf(n)>=0:J.matches(n,t));)n=n!==e&&!r(n)&&n.parentNode;return C(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=C.map(n,function(t){return(t=t.parentNode)&&!r(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return v(e,t)},parent:function(t){return v(M(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return m(this)}),t)},contents:function(){return this.map(function(){return R.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return A.call(m(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return C.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=n(t);if(this[0]&&!e)var i=C(t).get(0),r=i.parentNode||this.length>1;return this.each(function(n){C(this).wrapAll(e?t.call(this,n):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){C(this[0]).before(t=C(t));for(var e;(e=t.children()).length;)t=e.first();C(t).append(this)}return this},wrapInner:function(t){var e=n(t);return this.each(function(n){var i=C(this),r=i.contents(),o=e?t.call(this,n):t;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=C(this);(t===T?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return C(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return C(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(e){var n=this.innerHTML;C(this).empty().append(y(this,t,e,n))})},text:function(t){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t===T?"":""+t})},attr:function(t,e){var n;return"string"==typeof t&&e===T?0==this.length||1!==this[0].nodeType?T:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:this.each(function(n){if(1===this.nodeType)if(o(t))for(j in t)b(this,j,t[j]);else b(this,t,y(this,e,n,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&b(this,t)})},prop:function(t,e){return t=K[t]||t,e===T?this[0]&&this[0][t]:this.each(function(n){this[t]=y(this,e,n,this[t])})},data:function(t,e){var n=this.attr("data-"+t.replace(F,"-$1").toLowerCase(),e);return null!==n?w(n):T},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=y(this,t,e,this.value)})},offset:function(e){if(e)return this.each(function(t){var n=C(this),i=y(this,e,t,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(0==this.length)return null;var n=this[0].getBoundingClientRect();return{left:n.left+t.pageXOffset,top:n.top+t.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(t,n){if(arguments.length<2){var i=this[0],r=getComputedStyle(i,"");if(!i)return;if("string"==typeof t)return i.style[O(t)]||r[O(t)];if(s(t)){var o={};return C.each(s(t)?t:[t],function(t,e){o[e]=i.style[O(e)]||r.getPropertyValue(e)}),o}}var a="";if("string"==e(t))n||0===n?a=f(t)+":"+p(t,n):this.each(function(){this.style.removeProperty(f(t))});else for(j in t)t[j]||0===t[j]?a+=f(j)+":"+p(j,t[j])+";":this.each(function(){this.style.removeProperty(f(j))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(C(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?P.some.call(this,function(t){return this.test(x(t))},h(t)):!1},addClass:function(t){return t?this.each(function(e){S=[];var n=x(this),i=y(this,t,e,n);i.split(/\s+/g).forEach(function(t){C(this).hasClass(t)||S.push(t)},this),S.length&&x(this,n+(n?" ":"")+S.join(" "))}):this},removeClass:function(t){return this.each(function(e){return t===T?x(this,""):(S=x(this),y(this,t,e,S).split(/\s+/g).forEach(function(t){S=S.replace(h(t)," ")}),void x(this,S.trim()))})},toggleClass:function(t,e){return t?this.each(function(n){var i=C(this),r=y(this,t,n,x(this));r.split(/\s+/g).forEach(function(t){(e===T?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===T?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===T?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=H.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(C(t).css("margin-top"))||0,n.left-=parseFloat(C(t).css("margin-left"))||0,i.top+=parseFloat(C(e[0]).css("border-top-width"))||0,i.left+=parseFloat(C(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||N.body;t&&!H.test(t.nodeName)&&"static"==C(t).css("position");)t=t.offsetParent;return t})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});C.fn[t]=function(n){var o,a=this[0];return n===T?i(a)?a["inner"+e]:r(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=C(this),a.css(t,y(this,n,e,a[t]()))})}}),I.forEach(function(n,i){var r=i%2;C.fn[n]=function(){var n,o,a=C.map(arguments,function(t){return n=e(t),"object"==n||"array"==n||null==t?t:J.fragment(t)}),s=this.length>1;return a.length<1?this:this.each(function(e,n){o=r?n:n.parentNode,n=0==i?n.nextSibling:1==i?n.firstChild:2==i?n:null,a.forEach(function(e){if(s)e=e.cloneNode(!0);else if(!o)return C(e).remove();E(o.insertBefore(e,n),function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||t.eval.call(t,e.innerHTML)})})})},C.fn[r?n+"To":"insert"+(i?"Before":"After")]=function(t){return C(t)[n](this),this}}),J.Z.prototype=C.fn,J.uniq=M,J.deserializeValue=w,C.zepto=J,C}();t.Zepto=i,t.$===e&&(t.$=i),function(e){function n(t){return t._zid||(t._zid=p++)}function i(t,e,i,a){if(e=r(e),e.ns)var s=o(e.ns);return(v[n(t)]||[]).filter(function(t){return!(!t||e.e&&t.e!=e.e||e.ns&&!s.test(t.ns)||i&&n(t.fn)!==n(i)||a&&t.sel!=a)})}function r(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function a(t,e){return t.del&&!b&&t.e in x||!!e}function s(t){return w[t]||b&&x[t]||t}function c(t,i,o,c,u,f,p){var d=n(t),m=v[d]||(v[d]=[]);i.split(/\s/).forEach(function(n){if("ready"==n)return e(document).ready(o);var i=r(n);i.fn=o,i.sel=u,i.e in w&&(o=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?i.fn.apply(this,arguments):void 0}),i.del=f;var d=f||o;i.proxy=function(e){if(e=l(e),!e.isImmediatePropagationStopped()){e.data=c;var n=d.apply(t,e._args==h?[e]:[e].concat(e._args));return n===!1&&(e.preventDefault(),e.stopPropagation()),n}},i.i=m.length,m.push(i),"addEventListener"in t&&t.addEventListener(s(i.e),i.proxy,a(i,p))})}function u(t,e,r,o,c){var u=n(t);(e||"").split(/\s/).forEach(function(e){i(t,e,r,o).forEach(function(e){delete v[u][e.i],"removeEventListener"in t&&t.removeEventListener(s(e.e),e.proxy,a(e,c))})})}function l(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(C,function(e,i){var r=n[e];t[e]=function(){return this[i]=E,r&&r.apply(n,arguments)},t[i]=T}),(n.defaultPrevented!==h?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=E)),t}function f(t){var e,n={originalEvent:t};for(e in t)j.test(e)||t[e]===h||(n[e]=t[e]);return l(n,t)}var h,p=(e.zepto.qsa,1),d=Array.prototype.slice,m=e.isFunction,g=function(t){return"string"==typeof t},v={},y={},b="onfocusin"in t,x={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};y.click=y.mousedown=y.mouseup=y.mousemove="MouseEvents",e.event={add:c,remove:u},e.proxy=function(t,i){if(m(t)){var r=function(){return t.apply(i,arguments)};return r._zid=n(t),r}if(g(i))return e.proxy(t[i],t);throw new TypeError("expected function")},e.fn.bind=function(t,e,n){return this.on(t,e,n)},e.fn.unbind=function(t,e){return this.off(t,e)},e.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var E=function(){return!0},T=function(){return!1},j=/^([A-Z]|returnValue$|layer[XY]$)/,C={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(t,e,n){return this.on(e,t,n)},e.fn.undelegate=function(t,e,n){return this.off(e,t,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i,r,o){var a,s,l=this;return t&&!g(t)?(e.each(t,function(t,e){l.on(t,n,i,e,o)}),l):(g(n)||m(r)||r===!1||(r=i,i=n,n=h),(m(i)||i===!1)&&(r=i,i=h),r===!1&&(r=T),l.each(function(l,h){o&&(a=function(t){return u(h,t.type,r),r.apply(this,arguments)}),n&&(s=function(t){var i,o=e(t.target).closest(n,h).get(0);return o&&o!==h?(i=e.extend(f(t),{currentTarget:o,liveFired:h}),(a||r).apply(o,[i].concat(d.call(arguments,1)))):void 0}),c(h,t,r,i,n,s||a)}))},e.fn.off=function(t,n,i){var r=this;return t&&!g(t)?(e.each(t,function(t,e){r.off(t,n,e)}),r):(g(n)||m(i)||i===!1||(i=n,n=h),i===!1&&(i=T),r.each(function(){u(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=g(t)||e.isPlainObject(t)?e.Event(t):l(t),t._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,n){var r,o;return this.each(function(a,s){r=f(g(t)?e.Event(t):t),r._args=n,r.target=s,e.each(i(s,t.type||t),function(t,e){return o=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){e.fn[t]=function(e){return e?this.bind(t,e):this.each(function(){try{this[t]()}catch(e){}}),this}}),e.Event=function(t,e){g(t)||(e=t,t=e.type);var n=document.createEvent(y[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),l(n)}}(i),function(n){function i(t,e,i){var r=n.Event(e);return n(t).trigger(r,i),!r.isDefaultPrevented()}function r(t,e,n,r){return t.global?i(e||x,n,r):void 0}function o(t){t.global&&0===n.active++&&r(t,null,"ajaxStart")}function a(t){t.global&&!--n.active&&r(t,null,"ajaxStop")}function s(t,e){var n=e.context;return e.beforeSend.call(n,t,e)===!1||r(e,n,"ajaxBeforeSend",[t,e])===!1?!1:void r(e,n,"ajaxSend",[t,e])}function c(t,e,n,i){var o=n.context,a="success";n.success.call(o,t,a,e),i&&i.resolveWith(o,[t,a,e]),r(n,o,"ajaxSuccess",[e,n,t]),l(a,e,n)}function u(t,e,n,i,o){var a=i.context;i.error.call(a,n,e,t),o&&o.rejectWith(a,[n,e,t]),r(i,a,"ajaxError",[n,i,t||e]),l(e,n,i)}function l(t,e,n){var i=n.context;n.complete.call(i,e,t),r(n,i,"ajaxComplete",[e,n]),a(n)}function f(){}function h(t){return t&&(t=t.split(";",2)[0]),t&&(t==C?"html":t==j?"json":E.test(t)?"script":T.test(t)&&"xml")||"text"}function p(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(t){t.processData&&t.data&&"string"!=n.type(t.data)&&(t.data=n.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=p(t.url,t.data),t.data=e)}function m(t,i,r,o){var a=!n.isFunction(i);return{url:t,data:a?i:e,success:a?n.isFunction(r)?r:e:i,dataType:a?o||r:r}}function g(t,e,i,r){var o,a=n.isArray(e),s=n.isPlainObject(e);n.each(e,function(e,c){o=n.type(c),r&&(e=i?r:r+"["+(s||"object"==o||"array"==o?e:"")+"]"),!r&&a?t.add(c.name,c.value):"array"==o||!i&&"object"==o?g(t,c,i,e):t.add(e,c)})}var v,y,b=0,x=t.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,E=/^(?:text|application)\/javascript/i,T=/^(?:text|application)\/xml/i,j="application/json",C="text/html",S=/^\s*$/;n.active=0,n.ajaxJSONP=function(i,r){if(!("type"in i))return n.ajax(i);var o,a,l=i.jsonpCallback,f=(n.isFunction(l)?l():l)||"jsonp"+ ++b,h=x.createElement("script"),p=t[f],d=function(t){n(h).triggerHandler("error",t||"abort")},m={abort:d};return r&&r.promise(m),n(h).on("load error",function(s,l){clearTimeout(a),n(h).off().remove(),"error"!=s.type&&o?c(o[0],m,i,r):u(null,l||"error",m,i,r),t[f]=p,o&&n.isFunction(p)&&p(o[0]),p=o=e}),s(m,i)===!1?(d("abort"),m):(t[f]=function(){o=arguments},h.src=i.url.replace(/=\?/,"="+f),x.head.appendChild(h),i.timeout>0&&(a=setTimeout(function(){d("timeout")},i.timeout)),m)},n.ajaxSettings={type:"GET",beforeSend:f,success:f,error:f,complete:f,context:null,global:!0,xhr:function(){return new t.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:j,xml:"application/xml, text/xml",html:C,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},n.ajax=function(i){var r=n.extend({},i||{}),a=n.Deferred&&n.Deferred();for(v in n.ajaxSettings)r[v]===e&&(r[v]=n.ajaxSettings[v]);o(r),r.crossDomain||(r.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(r.url)&&RegExp.$2!=t.location.host),r.url||(r.url=t.location.toString()),d(r),r.cache===!1&&(r.url=p(r.url,"_="+Date.now()));var l=r.dataType,m=/=\?/.test(r.url);if("jsonp"==l||m)return m||(r.url=p(r.url,r.jsonp?r.jsonp+"=?":r.jsonp===!1?"":"callback=?")),n.ajaxJSONP(r,a);var g,b=r.accepts[l],x={},w=function(t,e){x[t.toLowerCase()]=[t,e]},E=/^([\w-]+:)\/\//.test(r.url)?RegExp.$1:t.location.protocol,T=r.xhr(),j=T.setRequestHeader;if(a&&a.promise(T),r.crossDomain||w("X-Requested-With","XMLHttpRequest"),w("Accept",b||"*/*"),(b=r.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),T.overrideMimeType&&T.overrideMimeType(b)),(r.contentType||r.contentType!==!1&&r.data&&"GET"!=r.type.toUpperCase())&&w("Content-Type",r.contentType||"application/x-www-form-urlencoded"),r.headers)for(y in r.headers)w(y,r.headers[y]);if(T.setRequestHeader=w,T.onreadystatechange=function(){if(4==T.readyState){T.onreadystatechange=f,clearTimeout(g);var t,e=!1;if(T.status>=200&&T.status<300||304==T.status||0==T.status&&"file:"==E){l=l||h(r.mimeType||T.getResponseHeader("content-type")),t=T.responseText;try{"script"==l?(1,eval)(t):"xml"==l?t=T.responseXML:"json"==l&&(t=S.test(t)?null:n.parseJSON(t))}catch(i){e=i}e?u(e,"parsererror",T,r,a):c(t,T,r,a)}else u(T.statusText||null,T.status?"error":"abort",T,r,a)}},s(T,r)===!1)return T.abort(),u(null,"abort",T,r,a),T;if(r.xhrFields)for(y in r.xhrFields)T[y]=r.xhrFields[y];var C="async"in r?r.async:!0;T.open(r.type,r.url,C,r.username,r.password);for(y in x)j.apply(T,x[y]);return r.timeout>0&&(g=setTimeout(function(){T.onreadystatechange=f,T.abort(),u(null,"timeout",T,r,a)},r.timeout)),T.send(r.data?r.data:null),T},n.get=function(){return n.ajax(m.apply(null,arguments))},n.post=function(){var t=m.apply(null,arguments);return t.type="POST",n.ajax(t)},n.getJSON=function(){var t=m.apply(null,arguments);return t.dataType="json",n.ajax(t)},n.fn.load=function(t,e,i){if(!this.length)return this;var r,o=this,a=t.split(/\s/),s=m(t,e,i),c=s.success;return a.length>1&&(s.url=a[0],r=a[1]),s.success=function(t){o.html(r?n("<div>").html(t.replace(w,"")).find(r):t),c&&c.apply(o,arguments)},n.ajax(s),this};var O=encodeURIComponent;n.param=function(t,e){var n=[];return n.add=function(t,e){this.push(O(t)+"="+O(e))},g(n,t,e),n.join("&").replace(/%20/g,"+")}}(i),function(t){t.fn.serializeArray=function(){var e,n=[];return t([].slice.call(this.get(0).elements)).each(function(){e=t(this);var i=e.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&n.push({name:e.attr("name"),value:e.val()})}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(i),function(n){"__proto__"in{}||n.extend(n.zepto,{Z:function(t,e){return t=t||[],n.extend(t,n.fn),t.selector=e||"",t.__Z=!0,t},isZ:function(t){return"array"===n.type(t)&&"__Z"in t}});try{getComputedStyle(e)}catch(i){var r=getComputedStyle;t.getComputedStyle=function(t){try{return r(t)}catch(e){return null}}}}(i),function(n){function i(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function r(){h=null,d.last&&(d.el.trigger("longTap"),d={})}function o(){h&&clearTimeout(h),h=null}function a(){u&&clearTimeout(u),l&&clearTimeout(l),f&&clearTimeout(f),h&&clearTimeout(h),u=l=f=h=null,d={}}function s(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function c(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var u,l,f,h,p,d={},m=750;n(document).ready(function(){var g,v,y,b,x=0,w=0;"MSGesture"in t&&(p=new MSGesture,p.target=document.body),n(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(d.el.trigger("swipe"),d.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(t){(!(b=c(t,"down"))||s(t))&&(y=b?t:t.touches[0],t.touches&&1===t.touches.length&&d.x2&&(d.x2=e,d.y2=e),g=Date.now(),v=g-(d.last||g),d.el=n("tagName"in y.target?y.target:y.target.parentNode),u&&clearTimeout(u),d.x1=y.pageX,d.y1=y.pageY,v>0&&250>=v&&(d.isDoubleTap=!0),d.last=g,h=setTimeout(r,m),p&&b&&p.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(!(b=c(t,"move"))||s(t))&&(y=b?t:t.touches[0],o(),d.x2=y.pageX,d.y2=y.pageY,x+=Math.abs(d.x1-d.x2),w+=Math.abs(d.y1-d.y2))}).on("touchend MSPointerUp pointerup",function(t){(!(b=c(t,"up"))||s(t))&&(o(),d.x2&&Math.abs(d.x1-d.x2)>30||d.y2&&Math.abs(d.y1-d.y2)>30?f=setTimeout(function(){d.el.trigger("swipe"),d.el.trigger("swipe"+i(d.x1,d.x2,d.y1,d.y2)),d={}},0):"last"in d&&(30>x&&30>w?l=setTimeout(function(){var t=n.Event("tap");t.cancelTouch=a,d.el.trigger(t),d.isDoubleTap?(d.el&&d.el.trigger("doubleTap"),d={}):u=setTimeout(function(){u=null,d.el&&d.el.trigger("singleTap"),d={}},250)},0):d={}),x=w=0)}).on("touchcancel MSPointerCancel pointercancel",a),n(t).on("scroll",a)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){n.fn[t]=function(e){return this.on(t,e)}})}(i),function(e,n){function i(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function r(t){return o?o+t:t.toLowerCase()}var o,a,s,c,u,l,f,h,p,d,m="",g={Webkit:"webkit",Moz:"",O:"o"},v=t.document,y=v.createElement("div"),b=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,x={};e.each(g,function(t,e){return y.style[t+"TransitionProperty"]!==n?(m="-"+t.toLowerCase()+"-",o=e,!1):void 0}),a=m+"transform",x[s=m+"transition-property"]=x[c=m+"transition-duration"]=x[l=m+"transition-delay"]=x[u=m+"transition-timing-function"]=x[f=m+"animation-name"]=x[h=m+"animation-duration"]=x[d=m+"animation-delay"]=x[p=m+"animation-timing-function"]="",e.fx={off:o===n&&y.style.transitionProperty===n,speeds:{_default:400,fast:200,slow:600},cssPrefix:m,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(t,i,r,o,a){return e.isFunction(i)&&(o=i,r=n,i=n),e.isFunction(r)&&(o=r,r=n),e.isPlainObject(i)&&(r=i.easing,o=i.complete,a=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:e.fx.speeds[i]||e.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(t,i,r,o,a)},e.fn.anim=function(t,r,o,m,g){var v,y,w,E={},T="",j=this,C=e.fx.transitionEnd,S=!1;if(r===n&&(r=e.fx.speeds._default/1e3),g===n&&(g=0),e.fx.off&&(r=0),"string"==typeof t)E[f]=t,E[h]=r+"s",E[d]=g+"s",E[p]=o||"linear",C=e.fx.animationEnd;else{y=[];for(v in t)b.test(v)?T+=v+"("+t[v]+") ":(E[v]=t[v],y.push(i(v)));T&&(E[a]=T,y.push(a)),r>0&&"object"==typeof t&&(E[s]=y.join(", "),E[c]=r+"s",E[l]=g+"s",E[u]=o||"linear")}return w=function(t){if("undefined"!=typeof t){if(t.target!==t.currentTarget)return;e(t.target).unbind(C,w)}else e(this).unbind(C,w);S=!0,e(this).css(x),m&&m.call(this)},r>0&&(this.bind(C,w),setTimeout(function(){S||w.call(j)},1e3*r+25)),this.size()&&this.get(0).clientLeft,this.css(E),0>=r&&setTimeout(function(){j.each(function(){w.call(this)})},0),this},y=null}(i),"object"==typeof n&&n&&"object"==typeof n.exports?n.exports=i:(t.Zepto=t.$=i,"function"==typeof define&&define.amd&&define("zepto",[],function(){return i}))}(window),Zepto})}),define("spaseed/1.0.0/lib/event",["zepto/1.1.3/index"],function(){define("spaseed/lib/event",function(t,e){var n=t("spaseed/1.0.0/lib/util"),i=function(t){return!!t.getAttribute("data-event")},r=function(t){return t.getAttribute("data-event")},o=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!0):t.attachEvent?t.attachEvent("on"+e,n):t[e]=n},a=function(t,e,n){n=n||this.judgeFn||i;for(var r=t.srcElement||t.target;r;){if(n(r))return r;if(e==r)break;r=r.parentNode}return null},s=function(t,e,i,s){"click"===e&&n.isMobile()&&(e="tap"),s=s||r;var c=function(t){return!!s(t)},u=function(e){var n=a(e,t,c),r=!1;if(n){var o,u=s(n);"[object Function]"===Object.prototype.toString.call(i)?(o=i.call(n,e,u),r=!0):i[u]&&(o=i[u].call(n,e),r=!0),r&&(o||(e.preventDefault?e.preventDefault():e.returnValue=!1))}};"tap"===e?!function(){var e=!0;o(t,"touchstart",function(){e=!0}),o(t,"touchmove",function(){e=!1}),o(t,"touchend",function(t){e&&u(t)})}():o(t,e,u)},c={},u=function(t,e){var n=r,i=function(t){return!!n(t)},s=function(r){var o=a(r,e,i),s=!1,u=c[t];if(o){var l,f=n(o);u[f]&&(l=u[f].call(o,r),s=!0),s&&(l||(r.preventDefault?r.preventDefault():r.returnValue=!1))}};"tap"===t?!function(){var t=0,n=0,i=0,r=0,a=!1;o(e,"touchstart",function(e){var i=e.touches[0];t=i.pageX,n=i.pageY,a=!1}),o(e,"touchmove",function(t){var e=t.touches[0];i=e.pageX,r=e.pageY,a=!0}),o(e,"touchend",function(e){if(a){var o=Math.sqrt(Math.pow(i-t,2)+Math.pow(r-n,2));5>o&&s(e)}else s(e)})}():o(e,t,s)},l=function(t,e){if("click"===t&&n.isMobile()&&(t="tap"),c[t])for(var i in e)c[t][i]=e[i];else c[t]=e||{},u(t,document.body)};e.bindCommonEvent=s,e.addCommonEvent=l})}),define("spaseed/1.0.0/lib/util",["zepto/1.1.3/index"],function(){define("spaseed/lib/util",function(t,e,n){var i=t("zepto/1.1.3/index");window.console=window.console||{log:function(){}};var r="";!function(){var t=/from=(\w+)/i.exec(window.location.search);t&&(r=t[1])}();var o={cookie:{get:function(t){var e=new RegExp("(?:^|;+|\\s+)"+t+"=([^;]*)"),n=document.cookie.match(e);return n?n[1]:""},set:function(t,e,n,i,r){if(r){var o=new Date;o.setTime(o.getTime()+36e5*r)}return document.cookie=t+"="+e+"; "+(r?"expires="+o.toGMTString()+"; ":"")+(i?"path="+i+"; ":"path=/; ")+(n?"domain="+n+";":"domain="+document.domain+";"),!0
},del:function(t,e,n){document.cookie=t+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; "+(n?"path="+n+"; ":"path=/; ")+(e?"domain="+e+";":"domain="+document.domain+";")}},tmpl:function(){var t={},e=function(t){return t=(t||"").toString(),t.replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;")},n=function(t,e){if(e)for(var n in e){var i=new RegExp("<%#\\s?"+n+"%>","g");t=t.replace(i,e[n])}return t};return function i(r,o,a){var s=!/\W/.test(r);!s&&(r=n(r,a));var c=s?t[r]=t[r]||i(n(document.getElementById(r).innerHTML,a)):new Function("obj","_escape","var _p='';with(obj){_p+='"+r.replace(/[\r\t\n]/g," ").split("\\'").join("\\\\'").split("'").join("\\'").split("<%").join("	").replace(/\t-(.*?)%>/g,"'+$1+'").replace(/\t=(.*?)%>/g,"'+_escape($1)+'").split("	").join("';").split("%>").join("_p+='")+"';} return _p;"),u=function(t){return c(t,e)};return o?u(o):u}}(),paramsToObject:function(t){var e,n,r,o,a,s={};return"object"==typeof t?t:(r=t||window.location.search,r=r.replace("?",""),e=r.split("&"),i(e).each(function(t,e){n=e.split("="),o=n[0],a=n.slice(1).join("="),s[decodeURIComponent(o)]=decodeURIComponent(a)}),s)},objectToParams:function(t,e){var n=i.param(t);return e&&(n=decodeURIComponent(n)),n},getAtk:function(t){var e=this.cookie.get(t);if(e){for(var n=5381,i=0,r=e.length;r>i;++i)n+=(n<<5)+e.charCodeAt(i);return 2147483647&n}},isMobile:function(){return this.isAndroid()||this.isIOS()},isAndroid:function(){return/android/i.test(window.navigator.userAgent)},isIOS:function(){return/iPod|iPad|iPhone/i.test(window.navigator.userAgent)},getHref:function(t){var e=t.getAttribute("href",2);return e=e.replace("http://"+location.host,"")},cloneObject:function(t){var e=t.constructor===Array?[]:{};for(var n in t)t.hasOwnProperty(n)&&(e[n]="object"==typeof t[n]?this.cloneObject(t[n]):t[n]);return e},emulateScroll:function(t){var e=!1,n=0,r=0,o=0;t.on("touchstart",function(t){e=!0,n=t.touches[0].clientY}),t.on("touchmove",function(a){if(e){var s=a.touches[0].clientY-n;o=r+s;var c=t.prop("clientHeight")-t.prop("scrollHeight"),u=0;0>o&&o>c?u=o:o>0?(u=0,o=0):c>o?(u=c,o=c):(u=o,o=r),t.children(":first-child").css("-webkit-transform","translate3d(0,"+u+"px,0)"),t.attr("data-scrolltop",-u);var l=i.Event("scroll");t.trigger(l)}}),t.on("touchend",function(){e=!1,r=o,o=0})},insertStyle:function(t,e){var n=function(){var n=document,i=n.createElement("style");i.type="text/css",e&&(i.id=e),document.getElementsByTagName("head")[0].appendChild(i),t&&("object"==typeof t&&(t=t.join("")),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)))};e?!document.getElementById(e)&&n():n()},getRandom:function(t){var t=t||"";return t+Math.round(2147483647*(Math.random()||.5))*+new Date%1e10},ping:function(){function t(){var t={pvi:"",si:"",arg:"",ty:1};return t.pvi=function(){var e=o.cookie.get("pgv_pvi");return!e&&function(){t.ty=0,e=o.getRandom(),o.cookie.set("pgv_pvi",e,"","",8760)}(),e}(),t.si=function(){var t=o.cookie.get("pgv_si");return!t&&function(){t=o.getRandom("s"),o.cookie.set("pgv_si",t)}(),t}(),t}function e(){if(r)return{rdm:location.hostname,rurl:"/"+r,rarg:""};var t=document.createElement("a");return t.href=document.referrer,{rdm:t.hostname,rurl:t.path,rarg:encodeURIComponent(t.search||"")}}function n(){var t=navigator,e=screen||{width:"",height:"",colorDepth:""},n={scr:e.width+"x"+e.height,scl:(window.devicePixelRatio||1)+"-bit",lg:t.language.toLowerCase(),tz:(new Date).getTimezoneOffset()/60};return n}return function(i,r,o,a){for(var s=[],c={r2:i,dm:r,url:o,r3:a},u=0,l=[c,t(),e(),n(),{random:+new Date}],f=l.length;f>u;u++)for(var h in l[u])l[u].hasOwnProperty(h)&&s.push(h+"="+(l[u][h]||""));var p="http://pingtcss.qq.com/pingd?"+s.join("&"),d=new Image;d.onload=d.onerror=d.onabort=function(){d.onload=d.onerror=d.onabort=null,d=null},d.src=p}}()};!function(){var t=navigator.userAgent,e=/ALA/.test(t);e&&(o.isIOS()?r="iosapp":o.isAndroid()&&(r="androidapp"))}(),n.exports=o})}),define("spaseed/1.0.0/config/config",[],function(){define("spaseed/config/config",function(t,e){var n=(t("spaseed/1.0.0/lib/zepto"),{basePath:"modules/",pageWrapper:"#pageWrapper",appArea:"#appArea",classWrapper:"#container",defaultClass:"",defaultTitle:"spaseed",navContainer:["body"],navActiveClass:"active",switchMode:null,beforeRender:function(){},afterRender:function(){},extendRoutes:{},changeNavStatus:null,root:"home",css:{},html404:'<h2 id="tt404" style="text-align:center;padding-top:100px;font-size:20px;line-height:1.5;color:#999"> <p style="font-size:44px">404</p> \u60a8\u8bbf\u95ee\u7684\u9875\u9762\u6ca1\u6709\u627e\u5230! </h2>',defaultReqErr:"\u8fde\u63a5\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",reqErrorHandler:null,additionalUrlParam:null,xhrProgress:!0});e.config=n})}),define("spaseed/1.0.0/main/router",["zepto/1.1.3/index"],function(){define("spaseed/main/router",function(t,e,n){var i=t("spaseed/1.0.0/lib/datamanager"),r=document.documentMode,o=/msie [\w.]+/.test(navigator.userAgent.toLowerCase())&&(!r||7>=r),a=window.history.pushState,s=0,c={init:function(t){this.option={html5Mode:!0,pageManager:{},routes:{},extendRoutes:{},interval:50,domain:""},t=t||{};for(var e in t)this.option[e]=t[e];this.option.extendRoutes&&this.extend(this.option.extendRoutes),this.option.html5Mode=a&&this.option.html5Mode,this.debug=!1;var n=window.location.href;/\/debug_online/.test(n)?this.debug="/debug_online":/\/debug/.test(n)&&(this.debug="/debug");var r=this,s=this.option.html5Mode?"popstate":"hashchange",c=function(){i.set("real_url",window.location.href.split("#")[0]);var t=window.location.search;t&&i.set("search",t);var e=r.getFragment()?r.getFragment():"/";return"/index.html"===e&&(e="/"),r.option.html5Mode||/#(.*)$/.test(n)||"/"===e?void r.navigate(e,!1,!0):void location.replace("/#"+e)};if(o){var u=document.createElement("iframe");u.tabindex="-1",u.src=this.option.domain?'javascript:void(function(){document.open();document.domain = "'+this.option.domain+'";document.close();}());':"javascript:0",u.style.display="none";var l=function(){u.onload=null,u.detachEvent("onload",l),c(),r.checkUrlInterval=setInterval(function(){r.checkUrl()},r.option.interval)};u.attachEvent?u.attachEvent("onload",l):u.onload=l,document.body.appendChild(u),this.iframe=u.contentWindow}else this.addEvent(window,s,function(t){r.checkUrl(t)});this.iframe||c()},addEvent:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t[e]=n},getHash:function(t){var e=(t||window).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(){var t,e=window.location.pathname+window.location.search;return this.option.html5Mode?(t=e,"/"===t&&this.getHash()&&(t=this.getHash())):(t=this.getHash(),""===t&&"/"!==e&&"/index.html"!==e&&(t=e)),t},checkUrl:function(t){var e=this.getFragment();this.debug&&(e=e.replace(this.debug,"")),this.iframe&&(e=this.getHash(this.iframe)),e!==this.fragment&&("object"==typeof t&&t.state&&(s=t.state.count-1),this.navigate(e,!1,!0))},back:function(){/detail/.test(window.location.pathname)?this.navigate("/"):history.back()},stripHash:function(t){return t.replace(/^\#+|\#+$/g,"")},stripSlash:function(t){return t.replace(/^\/+|\/+$/g,"")},navigate:function(t,e,n){n||s++;var i=this;if("/"!==t&&(t=i.stripHash(t),t=i.stripSlash(t),t="/"+t),t!==i.fragment&&!e)if(i.debug&&(t=t.replace(i.debug,""),t=i.debug+t),i.option.html5Mode){var r=n?"replaceState":"pushState";history[r]({count:s},document.title,t)}else("/"!==t||i.getFragment())&&(location.hash=t,i.iframe&&i.historySet(t,i.getHash(i.iframe)));i.debug&&(t=t.replace(i.debug,""),!t&&(t="/")),i.fragment=t,t=t.split("?")[0],i.loadUrl(t)},historySet:function(t,e){var n=this.iframe.document;t!==e&&(n.open(),this.option.domain&&n.write('<script>document.domain="'+this.option.domain+'"</script>'),n.close(),this.iframe.location.hash=t)},redirect:function(t,e,n){this.navigate(t,e,n)},matchRoute:function(t,e){var n=/\((.*?)\)/g,i=/(\(\?)?:\w+/g,r=/\*\w+/g,o=function(t){return t=t.replace(n,"(?:$1)?").replace(i,"([^/]+)").replace(r,"(.*?)"),new RegExp("^"+t+"$")},a=o(t),s=a.exec(e),c=null;if(s){var u=s.slice(1);c=[];for(var l,f=0;l=u[f];f++)c.push(l?decodeURIComponent(l):"")}return c},extend:function(t){t=t||{},this.extendRoutes?$.extend(this.extendRoutes,t):this.extendRoutes=t},queryToObj:function(t){var e=t.split("?")[1];e=e.split("&");for(var n,i={},r=0;n=e[r];r++){var o=n.split("=");i[o[0]]=o[1]}return i},applyAction:function(t,e,n,i){n&&e.push(n),t&&t.apply(i,e)},loadUrl:function(t){var e=this,n=(e.extendRoutes,e.option.routes),i=e.option.pageManager,r=null,o=null,a=/\/?\?.*/,s=a.exec(t),t=t.replace(a,"");s&&(o=this.queryToObj(s[0]));for(var c in n)if(r=e.matchRoute(c,t)){this.applyAction(i[n[c]],r,o,i);break}}};n.exports=c})}),define("spaseed/1.0.0/lib/datamanager",["zepto/1.1.3/index"],function(){define(function(t,e){var n=(t("zepto/1.1.3/index"),t("spaseed/1.0.0/config/config"),{}),i={get:function(t){return n[t]},set:function(t,e){n[t]=e},getCache:function(){return n},clearCache:function(){n={}}};e.dataManager=i})}),define("spaseed/1.0.0/main/pagemanager",["zepto/1.1.3/index"],function(){define("spaseed/main/pagemanager",function(t,e,n){var i=t("spaseed/1.0.0/lib/zepto"),r=t("spaseed/1.0.0/main/router"),o=t("spaseed/1.0.0/lib/util"),a=t("spaseed/1.0.0/config/config"),s=(t("spaseed/1.0.0/lib/datamanager"),{init:function(){this.pageWrapper=i(a.pageWrapper),this.container=i(a.container)},loadRoot:function(){this.loadView(a.root)},loadCommon:function(){var t=this,e=[].slice.call(arguments);this.parseMatch(e,function(e,n,i){t.loadView(e,n,i)})},parseMatch:function(t,e){var n=null,i=null,r=[];n=t[0],t.length>1&&("object"==typeof t[1]?r.push(t[1]):(i=t[1],r=t.slice(2))),e(n,i,r)},placeholder:function(t){t=t||this.container,t.find("img[raw]").each(function(){var t=i(this),e=t.attr("raw"),n=new Image,r=!1;i(n).on("load",function(){r||(t.attr("src",e),n=void 0)}).attr("src",e),n.complete&&(r=!0,t.attr("src",e),n=void 0)})},redirect:function(t,e,n,i){var r=arguments[0];arguments.length>1&&(r=[t,e,n.join("/")].join("/")),this.loadUrl(r,i)},reload:function(){var t=r.getFragment()||"/";this.loadUrl(t)},back:function(){this._destroy(),r.back(!0)},loadUrl:function(t,e){var n=this._destroy();e=null==e?n:e,r.navigate(t,!1,e)},loadView:function(e,n,o){var s=this;if(!a.beforeRender||a.beforeRender(e,n,o)!==!1){o=o||[],this.appArea=i(a.appArea),this.classWrapper=i(a.classWrapper);var c=a.basePath,u=c+e+"/"+e,l=c+e+"/"+n+"/"+n,f=[];if(seajs.hasDefined[u]?f.push(u):u="",n){if(!seajs.hasDefined[l])return void s.render404();f.push(l)}else{var h=c+e+"/index/index";if(seajs.hasDefined[h])f.push(h),n="index";else if(!u)return void s.render404()}var p=s.addCssReq(e,n);p.length&&t.async(p),t.async(f,function(t,i){u||(i=t),u&&(!s.fragment||s.fragment.indexOf("/"+e)<0||!n)&&s.renderView(t,o),s.fragment="/"===r.fragment?"/"+e:r.fragment,s.fragment=s.fragment.replace(/\/?\?.*/,""),n?(s.renderView(i,o),s.currentViewObj=i,u&&(s.currentCtrlObj=t)):s.currentViewObj=t,s.setTitle(t,i)})}},addCssReq:function(t,e){var n=a.css,i=n[t],r=n[t+"_"+e],o=[],s=function(t){for(var e=0;e<t.length;e++)t[e]&&(o=o.concat("csspath/"+t[e]))};return i&&s(i.cssFile),r&&s(r.cssFile),o},renderView:function(t,e){t&&t.render?t.render.apply(t,e):this.render404(),a.afterRender&&a.afterRender()},render404:function(){var t=a.html404,e=this.appArea.length?this.appArea:this.container;e.html(t)},renderError:function(t){var e=a.htmlError,n=this.appArea.length?this.appArea:this.container;n.html(e.replace("{{msg}}",t))},isEmpty:function(){return this.container.html().length<10},setTitle:function(t,e){if(e&&e.title)document.title=e.title;else if(t&&t.title)document.title=t.title;else{var n=a.defaultTitle;document.title!=n&&(document.title=n)}},html:function(t){void 0!==t.container&&this.container.html(t.container),void 0!==t.scroll&&(setTimeout(function(){var e=a.defaultClass,n=s.classWrapper,i=(e||"")+" "+(t.className||"");n.attr("class",t.exclusiveClassName||i)},0),this.container.scrollTop(t.scroll||0))},changeNavStatus:function(t){for(var e,n,r=this.fragment,s=a.root,c=a.navContainer,u=a.navActiveClass,l=function(e,n){e.find("."+u).removeClass(u);for(var a,c=0;a=n[c];c++){var l=o.getHref(a);if("/"===l&&t===s||"/"!==l&&0==r.indexOf(l)){var f=i(a).parent(),h=e.find("."+u);h.length?r===l&&f.addClass(u):f.addClass(u)}}},f=0;n=c[f];f++)n=i(n),e=e?e.add(n):n;l(e,e.find("a"))},globalDestroy:function(){},_destroy:function(){var t=!1;if(this.currentViewObj){t=this.currentViewObj.replacement,this.globalDestroy();var e=this.currentViewObj.destroy;try{if(e&&e.call(this.currentViewObj),this.currentCtrlObj){var n=this.currentCtrlObj.destroy;n&&n.call(this.currentCtrlObj)}}catch(i){window.console&&console.error&&console.error("View destroy failed ",i)}this.currentCtrlObj=null,this.currentViewObj=null}return t},resetFragment:function(){this.fragment=""}});n.exports=s})});